<!DOCTYPE html>
<html>
<head><!-- -->
<title>Form</title>	
<meta http-equiv="content-Type"content="text/html;charset=utf-8">
</head>
<body>



<h1>注意事项</h1>
<pre>
1、form 上传文件时，必须设置 method="post"  enctype="multipart/form-data"
2、input file 标签和 input text 标签在同一个 form 中时后台无法获取 input text 中的内容
</pre>
<hr/>



<h1>Form</h1>
<form id="form1" action="服务器端处理程序URL" method="post"  target="_blank" 
		name="formName" accept-charset="UTF-8"  ectype="application/x-www-form-urlencoded" 
		autocomplete="off" novalidate onsubmit="return check1(this);">
		<!--  表单是否提交取决于onsubmit事件的返回值。若onsubmit事件返回false，则将阻止表单的提交。
				onsubmit="return check();" 是否提交表单取决于check()的返回值
				onsubmit="check();" 该语句只执行check()函数，并没有把值赋给onsubmit事件，不要被属性中的=号迷惑了。
				
			注意：html中所有事件都有返回值的，false事件不执行，true事件执行。
		-->
	<fieldset>
		<legend>fieldset 标题</legend>
		文本输入：姓名<input type="text" name="name" value="" autofocus="true" onchange=""/><br/><br/>
		单选按钮：男<input type="radio" name="single" value="man" checked="true"/>女<input type="radio" name="single" value="feman"/>
	</fieldset><br/>
	
	多选框：<input type="checkbox" name="cars" value="Nissan" checked="true">Nissan<input type="checkbox" name="cars" value="宝马">宝马<br/><br/>
	
	select下拉列表：
	<select name="goods">
		<option value="--请选择--" selected>--请选择--</option><!--selected表示预选该项-->
		<optgroup label="Cars">
			<option value="自行车">自行车</option>
			<option value="面包车">面包车</option>
			<option value="跑车">跑车</option>
			<option value="大货">大货</option>
		</optgroup>
		<optgroup label="水果">
			<option value="草莓">草莓</option>
			<option value="苹果">苹果</option>
			<option value="梨" >梨</option>
			<option value="荔枝">荔枝</option>
		</optgroup>
	</select><br/><br/>
	
	datalist下拉列表：用户还可以自己输入想要的值
	<input id="browser" list="browsers">
	<datalist id="browsers">
	   <option value="Internet Explorer">
	   <option value="Firefox">
	   <option value="Chrome">
	   <option value="Opera">
	   <option value="Safari">
	</datalist><br/><br/>
	
	<textarea name="text" rows="10" cols="30">我是一个文本框。</textarea><br/><br/>
	
	<input type="submit" value="提交"/>
</form>
按钮：<input type="button" name="button" value="执行getForm()" form="form1" onclick="getFormData();"/><br/><br/>
<script>
/**获取表单值的方法*/
function getFormData()
{	
	//1、先获取表单对象，用表单对象的elements属性获取元素对象，适用多个input组合的元素		
	var form1 = document.getElementById("form1");//方法一：获取表单对象
	var form2 = document.forms["formName"];//方法二：获取表单对象
	
	//var name1 = form1.elements[1]; //获取表单中第一个元素的对象，适用单个input,并且数组从0开始计数
	var name1 = form2["name"];//获取表单中name="name"元素的对象,适用单个input
	var name2 = form1.elements["name"];//获取表单中name="name"元素的对象数组，适用多个input组合的元素		
	console.log("姓名="+name1.value);
	
	var sexs = form1.elements["single"];
	console.log("性别="+sexs.value);
	
	var cars = form1.elements["cars"];
	for(var i=0; i<cars.length; i++)
	{
		if(cars[i].checked)
		{
			console.log("多选框"+i+"="+cars[i].value); 
		}
	}
	
	var good = form1.elements["goods"];
	console.log("select下拉列表="+good.value);
	
	//2、给表单元素设置id，适用单个input
	var browser = document.getElementById("browser");
	console.log("datalist下拉列表="+browser.value);
	
	var text = form1.elements["text"];
	console.log("文本框="+text.value);
}


/**表单验证方法：*/
//方法一：表单属性配置  onsubmit="return check1(this)"
function check1(form)
{
	var inputObj=form["name"];
	if(inputObj.value=="" || inputObj.value== null)
	{
		alert("姓名不能为空");
		return false;
	}
	return true;
}
//方法二：表单属性配置   onsubmit="return check2()" 或者把submit按钮替换成button用onclick执行此函数
function check2()
{
	var form2 = document.forms["formName"];//获取表单对象
	{
		//验证代码
	}
	form2.submit();//用代码提交表单
	return false;
}
</script>
<hr/>
	
	
	
<h2>form 表单上传文件</h2>
<form action="/JavaWeb/Servlet/ServletUpload" method="POST" enctype="multipart/form-data">
请选择文件(文件位置：E:/upload)：<input type="file" name="UploadTest"/>
<input type="submit" value="上传">
</form>	
<hr/>	
	
	
<h2>form 表单 iframe 方法实现刷新提交</h2>
<form method="get" action="./Servlet/ServletForm" enctype="multipart/form-data" target="hidden_frame">
	<input type="submit" value="submit"/>
	<iframe name="hidden_frame" style="display:none"></iframe>
</form>


</body>
</html>
